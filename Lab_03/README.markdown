# Лабораторная работа 3: Скрипт на Python для взаимодействия с API — Сервис обмена валют

## Описание проекта

---

Проект `Создание Python-скрипта для взаимодействия с API` представляет сервис обмена валют с базовой валютой `MDL` (Молдавский лей). Сервис поддерживает курсы обмена для валют `USD`, `EUR`, `RON`, `RUS` и `UAH`.

### Структура проекта

Проект включает следующие файлы и директории:

- `app/` — директория с основным кодом приложения:
  - `index.php` — главный файл приложения.
- `data.json` — JSON-файл с тестовыми данными курсов валют.
- `sample.env` — шаблон файла переменных окружения.
- `docker-compose.yml` — файл для настройки приложения и зависимостей через Docker Compose.

Данные о курсах валют доступны за период с `01.01.2025` по `12.09.2025`.

---

## Инструкции по установке

Для запуска приложения выполните следующие шаги:

1. Убедитесь, что Docker и Docker Compose установлены на вашем компьютере.
2. Склонируйте репозиторий на локальную машину.
3. Перейдите в директорию проекта.
4. Скопируйте файл `sample.env` в `.env` и настройте ваш API-ключ. При необходимости укажите имя файла окружения в `docker-compose.yml`.

   ```bash
   cp sample.env .env
   ```

5. Выполните команду для сборки и запуска приложения:

   ```bash
   docker-compose up --build
   ```

6. Приложение будет доступно по адресу `http://localhost:8080`.

---

## Инструкции по использованию

### Получение списка валют

Для получения списка доступных валют отправьте POST-запрос на эндпоинт `/?currencies`:

```bash
curl -X POST "http://localhost:8080/?currencies" -d "key=EXAMPLE_API_KEY"
```

Для Windows (PowerShell):

```powershell
Invoke-RestMethod -Uri "http://localhost:8080/?currencies" -Method POST -Body @{ key="EXAMPLE_API_KEY" }
```

#### Пример ответа

```json
{"error":"","data":["MDL","USD","EUR","RON","RUS","UAH"]}
```

---

### Получение курса обмена валют

Для получения курса обмена отправьте GET-запрос на эндпоинт `/` с параметрами:

- `from` (GET) — исходная валюта (например, `USD`, `EUR`).
- `to` (GET) — целевая валюта (например, `USD`, `EUR`).
- `date` (GET, опционально) — дата курса в формате `ГГГГ-ММ-ДД`. Если не указана, используются последние доступные курсы.
- `key` (POST) — API-ключ для аутентификации.

```bash
curl -X POST "http://localhost:8080/?from=USD&to=EUR&date=2023-10-01" -d "key=EXAMPLE_API_KEY"
```

Для Windows (PowerShell):

```powershell
Invoke-RestMethod -Uri "http://localhost:8080/?from=USD&to=EUR&date=2023-10-01" -Method POST -Body @{ key="EXAMPLE_API_KEY" }
```

#### Пример ответа

```json
{"error":"","data":{"from":"USD","to":"EUR","rate":1.1753024588927439,"date":"2023-10-01"}}
```

---